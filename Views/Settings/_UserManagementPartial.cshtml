@model List<POSRestoran01.Models.User>

@if (Model.Any())
{
    <div class="overflow-x-auto">
        <table class="min-w-full">
            <thead>
                <tr class="border-b border-gray-200">
                    <th class="text-left py-3 px-4 font-semibold text-gray-700">ID</th>
                    <th class="text-left py-3 px-4 font-semibold text-gray-700">Nama Lengkap</th>
                    <th class="text-left py-3 px-4 font-semibold text-gray-700">Username</th>
                    <th class="text-left py-3 px-4 font-semibold text-gray-700">Email</th>
                    <th class="text-left py-3 px-4 font-semibold text-gray-700">Role</th>
                    <th class="text-left py-3 px-4 font-semibold text-gray-700">Status</th>
                    <th class="text-left py-3 px-4 font-semibold text-gray-700">Last Login</th>
                    <th class="text-left py-3 px-4 font-semibold text-gray-700">Aksi</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var user in Model)
                {
                    <tr class="border-b border-gray-100 hover:bg-gray-50">
                        <td class="py-3 px-4">@user.Id</td>
                        <td class="py-3 px-4 font-medium">@user.FullName</td>
                        <td class="py-3 px-4">@user.Username</td>
                        <td class="py-3 px-4">@user.Email</td>
                        <td class="py-3 px-4">
                            <span class="px-2 py-1 text-xs rounded-full @(user.Role == "Admin" ? "bg-purple-100 text-purple-800" : "bg-blue-100 text-blue-800")">
                                @user.Role
                            </span>
                        </td>
                        <td class="py-3 px-4">
                            @if (user.IsActive)
                            {
                                <span class="px-2 py-1 text-xs rounded-full bg-green-100 text-green-800">Active</span>
                            }
                            else
                            {
                                <span class="px-2 py-1 text-xs rounded-full bg-red-100 text-red-800">Inactive</span>
                            }
                        </td>
                        <td class="py-3 px-4 text-sm text-gray-500">
                            @(user.LastLogin?.ToString("dd/MM/yyyy HH:mm") ?? "Never")
                        </td>
                        <td class="py-3 px-4">
                            <div class="flex space-x-2">
                                <button onclick="showEditUserModal(@user.Id)"
                                        class="text-blue-600 hover:text-blue-800 text-sm">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button onclick="toggleUserStatus(@user.Id, '@user.FullName')"
                                        class="text-yellow-600 hover:text-yellow-800 text-sm">
                                    <i class="fas fa-toggle-@(user.IsActive ? "on" : "off")"></i>
                                </button>
                                <button onclick="deleteUser(@user.Id, '@user.FullName')"
                                        class="text-red-600 hover:text-red-800 text-sm">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
}
else
{
    <div class="text-center py-8 text-gray-500">
        <i class="fas fa-users text-4xl mb-4"></i>
        <p>Tidak ada data pengguna</p>
    </div>
}